import{f as C,y as F,g as M,au as b,a as B,s as z,ab as c,bn as D,bo as E,bp as P,bq as R,br as T,j as e,b as d,v as x,k as r,x as m,E as N,G as i,T as l,B as f,h as _,b7 as $,b8 as L,a9 as g,bs as q,aO as O,w as G,a5 as X,a4 as H,r as J,b2 as Q}from"./app-dd54c10f.js";import"src/i18n";const v=C("fileManagerApp/items/getItems",async a=>await(await B.get(`/api/file-manager/${a}`)).data),p=F({}),{selectAll:w,selectEntities:xe,selectById:U}=p.getSelectors(a=>a.fileManagerApp.items),I=M({name:"fileManagerApp/items",initialState:p.getInitialState({selectedItemId:null,path:[]}),reducers:{setSelectedItem:(a,s)=>{a.selectedItemId=s.payload}},extraReducers:{[v.fulfilled]:(a,s)=>{const{items:t,path:n}=s.payload;p.setAll(a,t),a.path=n,a.selectedItemId=null}}}),k=b([w],a=>a.filter(s=>s.type==="folder")),S=b([w],a=>a.filter(s=>s.type!=="folder")),W=({fileManagerApp:a})=>a.items.selectedItemId,K=({fileManagerApp:a})=>a.items.path,{setSelectedItem:h}=I.actions,V=I.reducer,Y=z(c)(({theme:a,...s})=>({backgroundColor:{PDF:D[600],DOC:E[600],XLS:P[600],TXT:R[600],JPG:T[600]}[s.color]}));function j(a){const{type:s}=a;return s==="folder"?e.jsx(d,{className:"",size:56,color:"disabled",children:"heroicons-outline:folder"}):e.jsxs("div",{className:"relative",children:[e.jsx(d,{className:"",size:56,color:"disabled",children:"heroicons-outline:document"}),e.jsx(Y,{color:s,className:"absolute left-0 bottom-0 px-6 rounded text-12 font-semibold leading-20 text-white",children:s})]})}function Z(a){const s=x(),t=r(n=>U(n,n.fileManagerApp.items.selectedItemId));return t?e.jsxs(m.div,{initial:{y:50,opacity:.8},animate:{y:0,opacity:1,transition:{delay:.3}},className:"file-details p-24 sm:p-32",children:[e.jsx("div",{className:"flex items-center justify-end w-full",children:e.jsx(N,{className:"",size:"large",onClick:()=>s(h(null)),children:e.jsx(d,{children:"heroicons-outline:x"})})}),e.jsx(c,{className:" w-full rounded-8 border preview h-128 sm:h-256 file-icon flex items-center justify-center my-32",sx:{backgroundColor:n=>n.palette.mode==="light"?i(n.palette.background.default,.4):i(n.palette.background.default,.02)},children:e.jsx(m.div,{initial:{scale:0},animate:{scale:1,transition:{delay:.3}},children:e.jsx(j,{className:"",type:t.type})})}),e.jsx(l,{className:"text-18 font-medium",children:t.name}),e.jsx("div",{className:"text-16 font-medium mt-32",children:"Information"}),e.jsxs("div",{className:"flex flex-col mt-16 border-t border-b divide-y font-medium",children:[e.jsxs("div",{className:"flex items-center justify-between py-12",children:[e.jsx(l,{color:"text.secondary",children:"Created By"}),e.jsx(l,{children:t.createdBy})]}),e.jsxs("div",{className:"flex items-center justify-between py-12",children:[e.jsx(l,{color:"text.secondary",children:"Created At"}),e.jsx(l,{children:t.createdAt})]}),e.jsxs("div",{className:"flex items-center justify-between py-12",children:[e.jsx(l,{color:"text.secondary",children:"Modified At"}),e.jsx(l,{children:t.modifiedAt})]}),e.jsxs("div",{className:"flex items-center justify-between py-12",children:[e.jsx(l,{color:"text.secondary",children:"Size"}),e.jsx(l,{children:t.size})]}),t.contents&&e.jsxs("div",{className:"flex items-center justify-between py-12",children:[e.jsx(l,{color:"text.secondary",children:"Contents"}),e.jsx(l,{children:t.contents})]})]}),t.description&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-16 font-medium mt-32 pb-16 border-b",children:"Description"}),e.jsx(l,{className:"py-12",children:t.description})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-16 w-full mt-32",children:[e.jsx(f,{className:"flex-auto",color:"secondary",variant:"contained",children:"Download"}),e.jsx(f,{className:"flex-auto",children:"Delete"})]})]}):null}const ee=_({items:V});var y={},se=L;Object.defineProperty(y,"__esModule",{value:!0});var A=y.default=void 0,te=se($()),ae=e,le=(0,te.default)((0,ae.jsx)("path",{d:"M10 6 8.59 7.41 13.17 12l-4.58 4.59L10 18l6-6z"}),"NavigateNext");A=y.default=le;function ne(a){const s=r(k),t=r(S),n=r(K);return e.jsxs("div",{className:"p-24 sm:p-32 w-full flex flex-col sm:flex-row space-y-8 sm:space-y-0 items-center justify-between",children:[e.jsxs("div",{className:"flex flex-col items-center sm:items-start space-y-8 sm:space-y-0",children:[e.jsxs(m.span,{className:"flex items-end",initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,children:[e.jsx(l,{component:g,to:"/apps/file-manager",className:"text-20 md:text-32 font-extrabold tracking-tight leading-none",role:"button",children:"File Manager"}),n.length>0&&e.jsxs(q,{"aria-label":"breadcrumb",className:"mx-12",separator:e.jsx(A,{fontSize:"small"}),children:[e.jsx("div",{}),n.map((o,u)=>u+1===n.length?e.jsx(l,{children:o.name},u):e.jsx(g,{color:"text.primary",to:`/apps/file-manager/${o.id}`,children:o.name},u))]})]}),e.jsx(l,{component:m.span,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},delay:500,className:"text-14 font-medium mx-2",color:"text.secondary",children:`${s.length} folders, ${t.length} files`})]}),e.jsx("div",{className:"flex items-center -mx-8",children:e.jsx(f,{className:"mx-8 whitespace-nowrap",variant:"contained",color:"secondary",startIcon:e.jsx(d,{size:20,children:"heroicons-outline:plus"}),children:"Upload file"})})]})}function re(a){const{item:s}=a,t=x();return s?e.jsxs(c,{sx:{backgroundColor:"background.paper"},className:"relative w-full sm:w-160 h-160 m-8 p-16 shadow rounded-16",children:[e.jsx(N,{className:"absolute z-20 top-0 right-0 m-6 w-32 h-32 min-h-32",onClick:()=>t(h(s.id)),children:e.jsx(d,{size:20,children:"heroicons-solid:information-circle"})}),e.jsxs(O,{className:"flex flex-col h-full w-full",to:`/apps/file-manager/${s.id}`,role:"button",children:[e.jsx("div",{className:"flex flex-auto w-full items-center justify-center",children:e.jsx(j,{className:"",type:s.type})}),e.jsxs("div",{className:"flex shrink flex-col justify-center text-center",children:[e.jsx(l,{className:"truncate text-12 font-medium",children:s.name}),s.contents&&e.jsx(l,{className:"truncate text-12 font-medium",color:"text.secondary",children:s.contents})]})]})]}):null}function ie(a){const{item:s}=a,t=x();return s?e.jsxs(c,{sx:{backgroundColor:"background.paper"},className:"flex flex-col relative w-full sm:w-160 h-160 m-8 p-16 shadow rounded-16 cursor-pointer",onClick:()=>t(h(s.id)),children:[e.jsx("div",{className:"flex flex-auto w-full items-center justify-center",children:e.jsx(j,{className:"",type:s.type})}),e.jsxs("div",{className:"flex shrink flex-col justify-center text-center",children:[e.jsx(l,{className:"truncate text-12 font-medium",children:s.name}),s.contents&&e.jsx(l,{className:"truncate text-12 font-medium",color:"text.secondary",children:s.contents})]})]}):null}function ce(){const a=r(k),s=r(S);return e.jsxs("div",{className:"p-32",children:[a.length>0&&e.jsxs(c,{className:"p-16 w-full rounded-16 mb-24 border",sx:{backgroundColor:t=>t.palette.mode==="light"?i(t.palette.background.default,.4):i(t.palette.background.default,.02)},children:[e.jsx(l,{className:"font-medium",children:"Folders"}),e.jsx("div",{className:"flex flex-wrap -m-8 mt-8",children:a.map(t=>e.jsx(re,{item:t},t.id))})]}),s.length>0&&e.jsxs(c,{className:"p-16 w-full rounded-16 mb-24 border",sx:{backgroundColor:t=>t.palette.mode==="light"?i(t.palette.background.default,.4):i(t.palette.background.default,.02)},children:[e.jsx(l,{className:"font-medium",children:"Files"}),e.jsx("div",{className:"flex flex-wrap -m-8 mt-8",children:s.map(t=>e.jsx(ie,{item:t},t.id))})]})]})}function oe(){const a=x(),s=r(W),t=X(),n=H(o=>o.breakpoints.down("lg"));return J.useEffect(()=>{a(v(t.folderId))},[a,t.folderId]),e.jsx(Q,{header:e.jsx(ne,{}),content:e.jsx(ce,{}),rightSidebarOpen:!!s,rightSidebarContent:e.jsx(Z,{}),rightSidebarWidth:400,scroll:n?"normal":"content"})}const ue=G("fileManagerApp",ee)(oe);export{ue as default};
