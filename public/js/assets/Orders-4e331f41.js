import{v as C,k as y,j as e,T as N,x as k,P as A,b as S,aE as F,r as h,am as H,aM as O,ab as q,G as j,E as U,D as G,b3 as J,M as Q,b4 as W,J as _,t as K,b5 as V,az as X,b0 as Y,b6 as Z,_ as ee,w as te,a4 as se,b2 as ae}from"./app-dd54c10f.js";import{m as T,o as ne,p as le,q as re,t as ce,c as ie}from"./index-d5401baa.js";import{O as oe}from"./OrdersStatus-e766216b.js";import{a as de,b as v,c as o,T as ue,d as me}from"./TableRow-a4477eb2.js";import{T as he,a as xe}from"./TableSortLabel-692d3bf2.js";import"src/i18n";import"./LastPage-462a455b.js";function fe(a){const d=C(),c=y(T);return e.jsxs("div",{className:"flex flex-col sm:flex-row flex-1 w-full space-y-8 sm:space-y-0 items-center justify-between py-32 px-24 md:px-32",children:[e.jsx(N,{component:k.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"flex text-24 md:text-32 font-extrabold tracking-tight",children:"Orders"}),e.jsx("div",{className:"flex flex-1 items-center justify-end space-x-8 w-full sm:w-auto",children:e.jsxs(A,{component:k.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[e.jsx(S,{color:"disabled",children:"heroicons-solid:search"}),e.jsx(F,{placeholder:"Search orders",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:c,inputProps:{"aria-label":"Search Orders"},onChange:u=>d(ne(u))})]})})]})}const pe=[{id:"id",align:"left",disablePadding:!1,label:"ID",sort:!0},{id:"reference",align:"left",disablePadding:!1,label:"Reference",sort:!0},{id:"customer",align:"left",disablePadding:!1,label:"Customer",sort:!0},{id:"total",align:"right",disablePadding:!1,label:"Total",sort:!0},{id:"payment",align:"left",disablePadding:!1,label:"Payment",sort:!0},{id:"status",align:"left",disablePadding:!1,label:"Status",sort:!0},{id:"date",align:"left",disablePadding:!1,label:"Date",sort:!0}];function ge(a){const{selectedOrderIds:d}=a,c=d.length,[u,g]=h.useState(null),w=C(),i=s=>m=>{a.onRequestSort(m,s)};function f(s){g(s.currentTarget)}function x(){g(null)}return e.jsx(de,{children:e.jsxs(v,{className:"h-48 sm:h-64",children:[e.jsxs(o,{padding:"none",className:"w-40 md:w-64 text-center z-99",sx:{backgroundColor:s=>H(s.palette.background.paper,s.palette.mode==="light"?.02:.2)},children:[e.jsx(O,{indeterminate:c>0&&c<a.rowCount,checked:a.rowCount!==0&&c===a.rowCount,onChange:a.onSelectAllClick}),c>0&&e.jsxs(q,{className:"flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",sx:{backgroundColor:s=>s.palette.mode==="light"?j(s.palette.background.default,.4):j(s.palette.background.default,.02)},children:[e.jsx(U,{"aria-owns":u?"selectedOrdersMenu":null,"aria-haspopup":"true",onClick:f,size:"large",children:e.jsx(S,{children:"heroicons-outline:dots-horizontal"})}),e.jsx(G,{id:"selectedOrdersMenu",anchorEl:u,open:!!u,onClose:x,children:e.jsx(J,{children:e.jsxs(Q,{onClick:()=>{w(le(d)),a.onMenuItemClick(),x()},children:[e.jsx(W,{className:"min-w-40",children:e.jsx(S,{children:"heroicons-outline:trash"})}),e.jsx(_,{primary:"Remove"})]})})})]})]}),pe.map(s=>e.jsx(o,{sx:{backgroundColor:m=>m.palette.mode==="light"?j(m.palette.background.default,.4):j(m.palette.background.default,.02)},className:"p-4 md:p-16",align:s.align,padding:s.disablePadding?"none":"normal",sortDirection:a.order.id===s.id?a.order.direction:!1,children:s.sort&&e.jsx(K,{title:"Sort",placement:s.align==="right"?"bottom-end":"bottom-start",enterDelay:300,children:e.jsx(he,{active:a.order.id===s.id,direction:a.order.direction,onClick:i(s.id),className:"font-semibold",children:s.label})})},s.id),this)]})})}function be(a){const d=C(),c=y(re),u=y(T),[g,w]=h.useState(!0),[i,f]=h.useState([]),[x,s]=h.useState(c),[m,P]=h.useState(0),[b,I]=h.useState(10),[p,M]=h.useState({direction:"asc",id:null});h.useEffect(()=>{d(ce()).then(()=>w(!1))},[d]),h.useEffect(()=>{u.length!==0?(s(X.filterArrayByString(c,u)),P(0)):s(c)},[c,u]);function R(t,n){const l=n;let r="desc";p.id===n&&p.direction==="desc"&&(r="asc"),M({direction:r,id:l})}function B(t){if(t.target.checked){f(x.map(n=>n.id));return}f([])}function D(){f([])}function E(t){a.navigate(`/apps/e-commerce/orders/${t.id}`)}function L(t,n){const l=i.indexOf(n);let r=[];l===-1?r=r.concat(i,n):l===0?r=r.concat(i.slice(1)):l===i.length-1?r=r.concat(i.slice(0,-1)):l>0&&(r=r.concat(i.slice(0,l),i.slice(l+1))),f(r)}function $(t,n){P(n)}function z(t){I(t.target.value)}return g?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Y,{})}):x.length===0?e.jsx(k.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:e.jsx(N,{color:"text.secondary",variant:"h5",children:"There are no orders!"})}):e.jsxs("div",{className:"w-full flex flex-col min-h-full",children:[e.jsx(Z,{className:"grow overflow-x-auto",children:e.jsxs(ue,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[e.jsx(ge,{selectedOrderIds:i,order:p,onSelectAllClick:B,onRequestSort:R,rowCount:x.length,onMenuItemClick:D}),e.jsx(me,{children:ee.orderBy(x,[t=>{switch(p.id){case"id":return parseInt(t.id,10);case"customer":return t.customer.firstName;case"payment":return t.payment.method;case"status":return t.status[0].name;default:return t[p.id]}}],[p.direction]).slice(m*b,m*b+b).map(t=>{const n=i.indexOf(t.id)!==-1;return e.jsxs(v,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,onClick:l=>E(t),children:[e.jsx(o,{className:"w-40 md:w-64 text-center",padding:"none",children:e.jsx(O,{checked:n,onClick:l=>l.stopPropagation(),onChange:l=>L(l,t.id)})}),e.jsx(o,{className:"p-4 md:p-16",component:"th",scope:"row",children:t.id}),e.jsx(o,{className:"p-4 md:p-16",component:"th",scope:"row",children:t.reference}),e.jsx(o,{className:"p-4 md:p-16 truncate",component:"th",scope:"row",children:`${t.customer.firstName} ${t.customer.lastName}`}),e.jsxs(o,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[e.jsx("span",{children:"$"}),t.total]}),e.jsx(o,{className:"p-4 md:p-16",component:"th",scope:"row",children:t.payment.method}),e.jsx(o,{className:"p-4 md:p-16",component:"th",scope:"row",children:e.jsx(oe,{name:t.status[0].name})}),e.jsx(o,{className:"p-4 md:p-16",component:"th",scope:"row",children:t.date})]},t.id)})})]})}),e.jsx(xe,{className:"shrink-0 border-t-1",component:"div",count:x.length,rowsPerPage:b,page:m,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:$,onRowsPerPageChange:z})]})}const je=V(be);function we(){const a=se(d=>d.breakpoints.down("lg"));return e.jsx(ae,{header:e.jsx(fe,{}),content:e.jsx(je,{}),scroll:a?"normal":"content"})}const Te=te("eCommerceApp",ie)(we);export{Te as default};
