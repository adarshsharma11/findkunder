import{v as N,k as C,j as e,T as v,x as w,P as $,b as f,aE as F,B as O,a9 as Q,r as h,G as P,aM as T,ab as G,E as J,D as U,b3 as W,M as _,b4 as K,J as V,t as X,b5 as Y,_ as k,b0 as Z,b6 as ee,an as te,w as ae,a4 as se,b2 as ne}from"./app-dd54c10f.js";import{d as I,e as le,f as ce,h as ie,i as oe,c as re}from"./index-d5401baa.js";import{a as de,b as M,c as m,T as ue,d as he}from"./TableRow-a4477eb2.js";import{T as me,a as xe}from"./TableSortLabel-692d3bf2.js";import"src/i18n";import"./LastPage-462a455b.js";function ge(s){const r=N(),i=C(I);return e.jsxs("div",{className:"flex flex-col sm:flex-row space-y-16 sm:space-y-0 flex-1 w-full items-center justify-between py-32 px-24 md:px-32",children:[e.jsx(v,{component:w.span,initial:{x:-20},animate:{x:0,transition:{delay:.2}},delay:300,className:"text-24 md:text-32 font-extrabold tracking-tight",children:"Products"}),e.jsxs("div",{className:"flex flex-col w-full sm:w-auto sm:flex-row space-y-16 sm:space-y-0 flex-1 items-center justify-end space-x-8",children:[e.jsxs($,{component:w.div,initial:{y:-20,opacity:0},animate:{y:0,opacity:1,transition:{delay:.2}},className:"flex items-center w-full sm:max-w-256 space-x-8 px-16 rounded-full border-1 shadow-0",children:[e.jsx(f,{color:"disabled",children:"heroicons-solid:search"}),e.jsx(F,{placeholder:"Search products",className:"flex flex-1",disableUnderline:!0,fullWidth:!0,value:i,inputProps:{"aria-label":"Search"},onChange:d=>r(le(d))})]}),e.jsx(w.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0,transition:{delay:.2}},children:e.jsx(O,{className:"",component:Q,to:"/apps/e-commerce/products/new",variant:"contained",color:"secondary",startIcon:e.jsx(f,{children:"heroicons-outline:plus"}),children:"Add"})})]})]})}const pe=[{id:"image",align:"left",disablePadding:!0,label:"",sort:!1},{id:"name",align:"left",disablePadding:!1,label:"Name",sort:!0},{id:"categories",align:"left",disablePadding:!1,label:"Category",sort:!0},{id:"priceTaxIncl",align:"right",disablePadding:!1,label:"Price",sort:!0},{id:"quantity",align:"right",disablePadding:!1,label:"Quantity",sort:!0},{id:"active",align:"right",disablePadding:!1,label:"Active",sort:!0}];function fe(s){const{selectedProductIds:r}=s,i=r.length,[d,b]=h.useState(null),y=N(),o=a=>u=>{s.onRequestSort(u,a)};function g(a){b(a.currentTarget)}function x(){b(null)}return e.jsx(de,{children:e.jsxs(M,{className:"h-48 sm:h-64",children:[e.jsxs(m,{sx:{backgroundColor:a=>a.palette.mode==="light"?P(a.palette.background.default,.4):P(a.palette.background.default,.02)},padding:"none",className:"w-40 md:w-64 text-center z-99",children:[e.jsx(T,{indeterminate:i>0&&i<s.rowCount,checked:s.rowCount!==0&&i===s.rowCount,onChange:s.onSelectAllClick}),i>0&&e.jsxs(G,{className:"flex items-center justify-center absolute w-64 top-0 ltr:left-0 rtl:right-0 mx-56 h-64 z-10 border-b-1",sx:{background:a=>a.palette.background.default},children:[e.jsx(J,{"aria-owns":d?"selectedProductsMenu":null,"aria-haspopup":"true",onClick:g,size:"large",children:e.jsx(f,{children:"heroicons-outline:dots-horizontal"})}),e.jsx(U,{id:"selectedProductsMenu",anchorEl:d,open:!!d,onClose:x,children:e.jsx(W,{children:e.jsxs(_,{onClick:()=>{y(ce(r)),s.onMenuItemClick(),x()},children:[e.jsx(K,{className:"min-w-40",children:e.jsx(f,{children:"heroicons-outline:trash"})}),e.jsx(V,{primary:"Remove"})]})})})]})]}),pe.map(a=>e.jsx(m,{sx:{backgroundColor:u=>u.palette.mode==="light"?P(u.palette.background.default,.4):P(u.palette.background.default,.02)},className:"p-4 md:p-16",align:a.align,padding:a.disablePadding?"none":"normal",sortDirection:s.order.id===a.id?s.order.direction:!1,children:a.sort&&e.jsx(X,{title:"Sort",placement:a.align==="right"?"bottom-end":"bottom-start",enterDelay:300,children:e.jsx(me,{active:s.order.id===a.id,direction:s.order.direction,onClick:o(a.id),className:"font-semibold",children:a.label})})},a.id),this)]})})}function be(s){const r=N(),i=C(ie),d=C(I),[b,y]=h.useState(!0),[o,g]=h.useState([]),[x,a]=h.useState(i),[u,S]=h.useState(0),[j,R]=h.useState(10),[p,q]=h.useState({direction:"asc",id:null});h.useEffect(()=>{r(oe()).then(()=>y(!1))},[r]),h.useEffect(()=>{d.length!==0?(a(k.filter(i,t=>t.name.toLowerCase().includes(d.toLowerCase()))),S(0)):a(i)},[i,d]);function B(t,n){const l=n;let c="desc";p.id===n&&p.direction==="desc"&&(c="asc"),q({direction:c,id:l})}function L(t){if(t.target.checked){g(x.map(n=>n.id));return}g([])}function E(){g([])}function z(t){s.navigate(`/apps/e-commerce/products/${t.id}/${t.handle}`)}function A(t,n){const l=o.indexOf(n);let c=[];l===-1?c=c.concat(o,n):l===0?c=c.concat(o.slice(1)):l===o.length-1?c=c.concat(o.slice(0,-1)):l>0&&(c=c.concat(o.slice(0,l),o.slice(l+1))),g(c)}function D(t,n){S(n)}function H(t){R(t.target.value)}return b?e.jsx("div",{className:"flex items-center justify-center h-full",children:e.jsx(Z,{})}):x.length===0?e.jsx(w.div,{initial:{opacity:0},animate:{opacity:1,transition:{delay:.1}},className:"flex flex-1 items-center justify-center h-full",children:e.jsx(v,{color:"text.secondary",variant:"h5",children:"There are no products!"})}):e.jsxs("div",{className:"w-full flex flex-col min-h-full",children:[e.jsx(ee,{className:"grow overflow-x-auto",children:e.jsxs(ue,{stickyHeader:!0,className:"min-w-xl","aria-labelledby":"tableTitle",children:[e.jsx(fe,{selectedProductIds:o,order:p,onSelectAllClick:L,onRequestSort:B,rowCount:x.length,onMenuItemClick:E}),e.jsx(he,{children:k.orderBy(x,[t=>{switch(p.id){case"categories":return t.categories[0];default:return t[p.id]}}],[p.direction]).slice(u*j,u*j+j).map(t=>{const n=o.indexOf(t.id)!==-1;return e.jsxs(M,{className:"h-72 cursor-pointer",hover:!0,role:"checkbox","aria-checked":n,tabIndex:-1,selected:n,onClick:l=>z(t),children:[e.jsx(m,{className:"w-40 md:w-64 text-center",padding:"none",children:e.jsx(T,{checked:n,onClick:l=>l.stopPropagation(),onChange:l=>A(l,t.id)})}),e.jsx(m,{className:"w-52 px-4 md:px-0",component:"th",scope:"row",padding:"none",children:t.images.length>0&&t.featuredImageId?e.jsx("img",{className:"w-full block rounded",src:k.find(t.images,{id:t.featuredImageId}).url,alt:t.name}):e.jsx("img",{className:"w-full block rounded",src:"assets/images/apps/ecommerce/product-image-placeholder.png",alt:t.name})}),e.jsx(m,{className:"p-4 md:p-16",component:"th",scope:"row",children:t.name}),e.jsx(m,{className:"p-4 md:p-16 truncate",component:"th",scope:"row",children:t.categories.join(", ")}),e.jsxs(m,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[e.jsx("span",{children:"$"}),t.priceTaxIncl]}),e.jsxs(m,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:[t.quantity,e.jsx("i",{className:te("inline-block w-8 h-8 rounded mx-8",t.quantity<=5&&"bg-red",t.quantity>5&&t.quantity<=25&&"bg-orange",t.quantity>25&&"bg-green")})]}),e.jsx(m,{className:"p-4 md:p-16",component:"th",scope:"row",align:"right",children:t.active?e.jsx(f,{className:"text-green",size:20,children:"heroicons-outline:check-circle"}):e.jsx(f,{className:"text-red",size:20,children:"heroicons-outline:minus-circle"})})]},t.id)})})]})}),e.jsx(xe,{className:"shrink-0 border-t-1",component:"div",count:x.length,rowsPerPage:j,page:u,backIconButtonProps:{"aria-label":"Previous Page"},nextIconButtonProps:{"aria-label":"Next Page"},onPageChange:D,onRowsPerPageChange:H})]})}const je=Y(be);function Pe(){const s=se(r=>r.breakpoints.down("lg"));return e.jsx(ne,{header:e.jsx(ge,{}),content:e.jsx(je,{}),scroll:s?"normal":"content"})}const ve=ae("eCommerceApp",re)(Pe);export{ve as default};
